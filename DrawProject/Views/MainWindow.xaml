<Window x:Class="DrawProject.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:controls="clr-namespace:DrawProject.Controls"
        xmlns:local="clr-namespace:DrawProject"
        xmlns:converters="clr-namespace:DrawProject.Converters"
        xmlns:vm ="clr-namespace:DrawProject.ViewModels" 
    mc:Ignorable="d"
        Title="MainWindow" Height="451" Width="804">
    <Window.DataContext>
        <vm:MainViewModel/>
    </Window.DataContext>
    <Window.Resources>
        <converters:ColorConverter x:Key="ColorConverter"/>
    </Window.Resources>
    <Grid>

        <DockPanel>
            <!-- Панель инструментов -->
            <ToolBar DockPanel.Dock="Top">
                <Button Content="Brush" Command="{Binding SelectBrushCommand}"/>
                <Button Content="Easter" Command="{Binding SelectEraserCommand}"/>
                <Button Content="Clear" Command= "{Binding ClearCommand}"/>
            </ToolBar>

            <StackPanel DockPanel.Dock="Left" Width="100">
                <TextBlock Text="Colors:"/>
                <Button Command="{Binding ChangeColorCommand}"
                CommandParameter="{Binding Converter={StaticResource ColorConverter},
                    ConverterParameter= Black}"
                        Background="Black" Height="30"/>
                <Button Command="{Binding ChangeColorCommand}"
                            CommandParameter="{Binding Converter={StaticResource ColorConverter}, 
                            ConverterParameter=Red}"
                            Content="Red"
                            Background="Red"/>
            </StackPanel>

            <!-- Холст для рисования -->
            <controls:HybridCanvas x:Name="drawingCanvas" 
                                ImageDocument="{Binding CurrentDoc}"
                                    Brush="{Binding CurrentBrush}"
                                    Tool ="{Binding ActiveTool}"
                                    Width="701" 
                                    Height="412" RenderTransformOrigin="0.5,0.5">
            </controls:HybridCanvas>
        </DockPanel>
    </Grid>
</Window>
