<Window x:Class="DrawProject.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:controls="clr-namespace:DrawProject.Controls"
        xmlns:local="clr-namespace:DrawProject"
        xmlns:converters="clr-namespace:DrawProject.Converters"
        xmlns:vm ="clr-namespace:DrawProject.ViewModels" 
    mc:Ignorable="d"
        Title="MainWindow" Height="452" Width="834">
    <Window.DataContext>
        <vm:MainViewModel/>
    </Window.DataContext>
    <Window.Resources>
        <converters:ColorConverter x:Key="ColorConverter"/>
    </Window.Resources>
    <Grid>

        <DockPanel>
            <!-- Панель инструментов -->
            <ToolBar DockPanel.Dock="Top">
                <Button Content="Brush" Command="{Binding SelectBrushCommand}"/>
                <Button Content="Easter" Command="{Binding SelectEraserCommand}"/>
                <Button Content="Rectangle" Command="{Binding SelectRectangleCommand}"/>
                <Button Content="Clear" Command= "{Binding ClearCommand}"/>
                <Button Content="Save" Command= "{Binding SaveCommand}"/>
                <Button Content="Open" Command= "{Binding OpenCommand}"/>
                <Button Content="Pipette" Command= "{Binding SelectPipetteCommand}"/>

                <Button Content="NewLayer" Command= "{Binding AddLayerCommand}"/>
                <Button Content="FirstLayer" Command= "{Binding ResetLayerCommand}"/>
                <Button Content="NextLayer" Command= "{Binding UpLayerCommand}"/>
            </ToolBar>

            <StackPanel DockPanel.Dock="Left" Width="100">


                <!-- Цветовой круг -->
                <Border BorderBrush="LightGray" BorderThickness="1" 
                        Background="White" Margin="5" 
                        HorizontalAlignment="Center" Height="177">
                    <Viewbox Stretch="Uniform">
                        <controls:ColorSlider x:Name="ColorSliders"
                        ColorChangedCommand="{Binding ColorWheelChanged}"/>
                    </Viewbox>
                </Border>

                <Slider Grid.Column="1" 
                       x:Name="RedSlider"
                       Minimum="0" Maximum="255" 
                       Value="{Binding BrushSize, Mode=TwoWay}">
                    <Slider.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                            <GradientStop Color="White" Offset="0"/>
                            <GradientStop Color="Black" Offset="1"/>
                        </LinearGradientBrush>
                    </Slider.Background>
                </Slider>
            </StackPanel>
            <!-- Холст для рисования -->
            <controls:ZoomBorder BorderBrush="LightGray" BorderThickness="1" 
                    Background="White" Margin="5" Height="400" Width="612">
                <Viewbox  Height="414" Width="700">
                    <controls:HybridCanvas x:Name="drawingCanvas" 
                                           Loaded="DrawingCanvas_Loaded"
                    ImageDocument="{Binding CurrentDoc}"
                        Brush="{Binding CurrentBrush}"
                        Tool="{Binding ActiveTool}"
                        Width="1237" Height="924"/>
                </Viewbox>
            </controls:ZoomBorder>
            <StackPanel DockPanel.Dock="Right" Width="100">


                <!-- Цветовой круг -->
                <Border BorderBrush="LightGray" BorderThickness="1" 
            Background="White" Margin="5" 
            HorizontalAlignment="Center" Height="177">
                    <Viewbox Stretch="Uniform" RenderTransformOrigin="0.5,0.5" Width="105">
                        <Viewbox.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform ScaleX="-1"/>
                                <SkewTransform/>
                                <RotateTransform/>
                                <TranslateTransform/>
                            </TransformGroup>
                        </Viewbox.RenderTransform>

                    </Viewbox>
                </Border>


            </StackPanel>
        </DockPanel>
    </Grid>
</Window>
